# 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
Discord サーバー分析・管理システム

### 1.2 目的
Discord サーバーの成長戦略を立てるための、メンバー動向・アクティビティ分析ダッシュボードを構築する。

### 1.3 背景・課題

#### 現状（Before）
| 項目 | 内容 |
|------|------|
| 困っていること | メンバーの流入数・アクティブユーザー数が把握できていない |
| 管理状況 | そもそも管理できていない |
| 問題点 | 戦略設計の判断材料がない |

#### 理想状態（After）
| 項目 | 内容 |
|------|------|
| 実現したいこと | 1日の流入数・アクション数の可視化、アクティブユーザー率の把握 |
| 期待する効果 | 今後の戦略設計の判断がしやすくなる |
| 副次的な効果 | タスク管理による抜け漏れ防止 |

---

## 2. スコープ

### 2.1 対象サーバー
- Discord サーバー数: **1つ**
- 現在のメンバー数: **約300人**
- 目標メンバー数: **3,000人以上**

### 2.2 ユーザー
- 現在: **3名**（運営チーム）
- 将来: **最大10名**

### 2.3 フェーズ分け

#### Phase 1: MVP（必須機能）
| # | 機能 | 説明 | 優先度 |
|---|------|------|--------|
| 1 | メンバー流入数ダッシュボード | 日次/週次/月次の新規メンバー数を可視化 | 🔴 高 |
| 2 | メッセージ数計測 | チャンネル別・ユーザー別のメッセージ数を集計 | 🔴 高 |
| 3 | アクティブユーザー率 | DAU/WAU/MAU の算出と可視化 | 🔴 高 |
| 4 | Discord Bot | データ収集用 Bot の構築 | 🔴 高 |

#### Phase 2: 拡張機能（あったらいい）
| # | 機能 | 説明 | 優先度 |
|---|------|------|--------|
| 5 | タスク管理 | チームで共有できるタスクボード | 🟡 中 |
| 6 | 業務連絡 | チーム内の連絡・通知機能 | 🟡 中 |

---

## 3. 機能要件

### 3.1 Discord Bot（データ収集）

#### 収集するデータ
| データ種別 | 内容 | 収集タイミング |
|-----------|------|---------------|
| メンバー参加 | 新規参加者の情報（ID, 参加日時） | イベント発生時 |
| メンバー退出 | 退出者の情報（ID, 退出日時） | イベント発生時 |
| メッセージ | 投稿数（チャンネル別、ユーザー別） | イベント発生時 |

#### Bot の権限（必要なインテント）
- `GUILD_MEMBERS` - メンバーの参加/退出検知
- `GUILD_MESSAGES` - メッセージの検知
- `MESSAGE_CONTENT` - メッセージ内容（カウント用）

### 3.2 ダッシュボード（Web アプリ）

#### 3.2.1 メンバー分析画面
| 項目 | 表示内容 |
|------|---------|
| 流入数グラフ | 日次/週次/月次の新規メンバー推移 |
| 退出数グラフ | 日次/週次/月次の退出メンバー推移 |
| 純増数 | 流入 - 退出 の推移 |
| 累計メンバー数 | 総メンバー数の推移 |

#### 3.2.2 アクティビティ分析画面
| 項目 | 表示内容 |
|------|---------|
| メッセージ数推移 | 日次/週次/月次のメッセージ数 |
| チャンネル別ランキング | 投稿が多いチャンネル TOP10 |
| アクティブユーザー | DAU / WAU / MAU |
| アクティブ率 | アクティブユーザー / 総メンバー |

#### 3.2.3 レポート機能
| 項目 | 内容 |
|------|------|
| 期間指定 | 任意の期間でデータ抽出 |
| CSV エクスポート | データのダウンロード |

### 3.3 タスク管理（Phase 2）
| 機能 | 内容 |
|------|------|
| タスク作成 | タイトル、説明、担当者、期限 |
| ステータス管理 | 未着手 / 進行中 / 完了 |
| 共有 | チームメンバー間で閲覧・編集 |

---

## 4. 非機能要件

### 4.1 パフォーマンス
| 項目 | 要件 |
|------|------|
| ダッシュボード表示 | 3秒以内 |
| Bot のデータ収集 | リアルタイム（イベント駆動） |

### 4.2 可用性
| 項目 | 要件 |
|------|------|
| 稼働率 | 99%以上（月間ダウンタイム 7時間以内） |
| Bot 稼働 | 24時間365日 |

### 4.3 セキュリティ
| 項目 | 要件 |
|------|------|
| 認証 | チームメンバーのみアクセス可能 |
| データ保護 | Discord ユーザー情報の適切な管理 |

### 4.4 スケーラビリティ
| 項目 | 要件 |
|------|------|
| メンバー数 | 3,000人以上に対応 |
| データ保持 | 最低1年間 |

---

## 5. 画面一覧（想定）

| # | 画面名 | 概要 |
|---|--------|------|
| 1 | ログイン | チームメンバー認証 |
| 2 | ダッシュボード | 主要KPIのサマリー |
| 3 | メンバー分析 | 流入/退出/純増の詳細 |
| 4 | アクティビティ分析 | メッセージ数/アクティブ率の詳細 |
| 5 | タスク一覧 | タスクボード（Phase 2） |

---

## 6. 用語定義

| 用語 | 定義 |
|------|------|
| 流入数 | 指定期間内に新規参加したメンバー数 |
| 退出数 | 指定期間内に退出したメンバー数 |
| 純増数 | 流入数 - 退出数 |
| DAU | Daily Active Users（1日にメッセージを投稿したユーザー数） |
| WAU | Weekly Active Users（1週間にメッセージを投稿したユーザー数） |
| MAU | Monthly Active Users（1ヶ月にメッセージを投稿したユーザー数） |
| アクティブ率 | アクティブユーザー数 / 総メンバー数 × 100 |

---

## 7. 成功指標（KPI）

### システム導入後の目標
| 指標 | 現状 | 目標 |
|------|------|------|
| データ把握 | 不可能 | リアルタイムで可視化 |
| 戦略判断 | 感覚ベース | データドリブン |
| タスク管理 | なし | 抜け漏れゼロ（Phase 2） |

---

## 8. 承認

| 項目 | 状態 |
|------|------|
| 要件定義 | ⏳ 確認待ち |
| Phase 1 スコープ | ⏳ 確認待ち |
| Phase 2 スコープ | ⏳ 確認待ち |

---

**最終更新日**: 2026-01-24
